package com.symphony.malware.scan.operation;

import static org.junit.Assert.assertEquals;

import com.symphony.malware.scan.model.MalwareScanMode;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

public class CheckMalwareScanModeSettingsRequestTest {

  @Test
  public void basicGetSetTests() throws JsonProcessingException {
    final CheckMalwareScanModeSettingsRequest request =
        new CheckMalwareScanModeSettingsRequest();
    request.setScanUrl("xyz");
    request.setHealthUrl("abc");
    request.setMalwareScanMode(MalwareScanMode.ICAP);

    final ObjectMapper om = new ObjectMapper();
    final String serialized = om.writeValueAsString(request);

    // now deserialize it back
    final CheckMalwareScanModeSettingsRequest deserialized =
        om.readValue(serialized, CheckMalwareScanModeSettingsRequest.class);
    assertEquals("xyz", deserialized.getScanUrl());
    assertEquals("abc", deserialized.getHealthUrl());
    assertEquals(MalwareScanMode.ICAP, deserialized.getMalwareScanMode());
  }
}