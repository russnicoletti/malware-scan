package com.symphony.malware.scan.converter;

import com.symphony.malware.scan.MalwareScanResponse;
import com.symphony.malware.scan.model.MalwareScanResponseDto;

import java.util.Optional;

public class MalwareScanResponseProtoDtoConverter implements ProtoDtoConverter<MalwareScanResponse, MalwareScanResponseDto> {

    @Override
    public MalwareScanResponseDto toDto(final MalwareScanResponse malwareScanResponse) {
        return Optional.ofNullable(malwareScanResponse)
            .map(msr -> MalwareScanResponseDto.builder()
                .status(msr.getStatus())
                .error(msr.getError())
                .build())
            .orElse(null);
    }

    @Override
    public MalwareScanResponse toProto(final MalwareScanResponseDto malwareScanResponseDto) {
        return Optional.ofNullable(malwareScanResponseDto)
            .map(msrd -> MalwareScanResponse.newBuilder()
                .setStatus(malwareScanResponseDto.getStatus())
                .setError(malwareScanResponseDto.getError())
                .build())
            .orElse(null);
    }

}
