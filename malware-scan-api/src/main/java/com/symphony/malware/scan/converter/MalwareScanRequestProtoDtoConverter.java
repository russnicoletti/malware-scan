package com.symphony.malware.scan.converter;

import com.symphony.malware.scan.MalwareScanRequest;
import com.symphony.malware.scan.model.MalwareScanRequestDto;

import java.util.Optional;

public class MalwareScanRequestProtoDtoConverter implements ProtoDtoConverter<MalwareScanRequest, MalwareScanRequestDto> {

    /**
     * Does not convert attachment metadata
     * @param malwareScanRequest
     * @return
     */
    @Override
    public MalwareScanRequestDto toDto(final MalwareScanRequest malwareScanRequest) {
        return Optional.ofNullable(malwareScanRequest)
            .map(msr -> MalwareScanRequestDto.builder()
                .creationTime(msr.getCreationTime())
                .build())
            .orElse(null);
    }

    /**
     * Does not convert attachment metadata
     * @param malwareScanRequestDto
     * @return
     */
    @Override
    public MalwareScanRequest toProto(final MalwareScanRequestDto malwareScanRequestDto) {
        return Optional.ofNullable(malwareScanRequestDto)
            .map(msrd -> MalwareScanRequest.newBuilder()
                .setCreationTime(malwareScanRequestDto.getCreationTime())
                .build())
            .orElse(null);
    }

}
