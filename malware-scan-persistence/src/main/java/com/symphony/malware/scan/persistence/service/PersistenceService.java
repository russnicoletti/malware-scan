package com.symphony.malware.scan.persistence.service;

import com.symphony.data.mapper.PersistentException;
import com.symphony.malware.scan.dto.MalwareInfo;
import com.symphony.malware.scan.persistence.repository.PersistenceRepository;

public class PersistenceService {

  private final PersistenceRepository<String, MalwareInfo> malwareInfoPersistenceRepository;

  public PersistenceService(final PersistenceRepository<String, MalwareInfo> malwareInfoPersistenceRepository) {
    this.malwareInfoPersistenceRepository = malwareInfoPersistenceRepository;
  }

  public void saveMalwareInfo(final String fileId, final MalwareInfo malwareInfo) throws PersistentException {
    malwareInfoPersistenceRepository.save(fileId, malwareInfo);
  }

  public MalwareInfo getMalwareInfo(final String fileId) throws PersistentException {
    return malwareInfoPersistenceRepository.load(fileId);
  }
}
