package com.symphony.malware.scan.service;

import com.symphony.data.mapper.PersistentException;
import com.symphony.malware.scan.dto.MalwareInfo;
import com.symphony.malware.scan.dto.MalwareInfoKey;
import com.symphony.malware.scan.repository.PersistenceRepository;

public class PersistenceService {

  private final PersistenceRepository persistenceRepository;

  public PersistenceService(final PersistenceRepository persistenceRepository) {
    this.persistenceRepository = persistenceRepository;
  }

  public void saveMalwareInfo(final MalwareInfoKey malwareInfoKey, final MalwareInfo malwareInfo) throws PersistentException {
    persistenceRepository.save(malwareInfoKey, malwareInfo);
  }

  public MalwareInfo getMalwareInfo(final MalwareInfoKey malwareInfoKey) throws PersistentException {
    return persistenceRepository.load(malwareInfoKey);
  }
}
